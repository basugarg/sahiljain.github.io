function kimonoCallback(e){var t=1;var n=5;var r=25;failed=false;var i=e.data;if(i.length<2){alert("Could not load data, sryz");return}for(var s=0;s<i.length;s++){var o=i[s].medals.gold*r+i[s].medals.bronze*t+i[s].medals.silver*n;i[s]["score"]=o}i.sort(function(e,t){return t["score"]-e["score"]});for(var s=0;s<i.length;s++){$(".table").append("<tr><td>"+(s+1)+"</td><td>"+i[s]["name"]+"</td><td>"+i[s]["medals"]["gold"]+"</td><td>"+i[s]["medals"]["silver"]+"</td><td>"+i[s]["medals"]["bronze"]+"</td><td>"+i[s]["score"]+"</td></tr>")}$(".load").hide();$(".table").show()}var failed=true;$(document).ready(function(e){e(".table").hide()});$.ajax({url:"http://sochi.kimonolabs.com/api/countries?fields=name,medals&limit=100&apikey=1951128d06008e5342058ed90cd155de&callback=kimonoCallback",crossDomain:true,dataType:"jsonp"});setTimeout(function(){if(failed){location.reload()}},2200)